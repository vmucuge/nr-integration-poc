#!/bin/bash

gcloud beta compute --project "gcs-bcn-training-1" instances create "rpm-build-c7" --zone "europe-west2-c" --machine-type "n1-standard-2" --subnet "default" --metadata "^#&&#^role=rpmbuilder#&&#startup-script=#!/bin/bash\u000aecho \"Install RPM Build Library\"\u000asudo yum install rpm-build\u000asudo yum install chroot redhat-rpm-config m4 gcc-c++ autoconf automake ncurses-devel wget -y \u000a\u000amkdir -p ~/rpmbuild/{BUILD,RPMS,SOURCES,SPECS,SRPMS}\u000aecho '%_topdir %(echo $HOME)/rpmbuild' > ~/.rpmmacros#&&#ssh-keys=:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjfC6rvcKq7ujtznF8tIAJMEa6XriQMqDmPV8/zDjXJ4IizxWf50N5PVVckIaolsUdd5CLjsGnKaJ4ggkPntt2iXIfJVfpqDZ3vEk+Beaqk+qTacxzbSFzhoGQXhbWFs2nMjt2yo1Nis0/u+vjugohCVS8Ns\u000aOPbu0rBfxzqFThS95C1oFxunlbT5QG/li1p6BNKVSGFZQZLYKaX5zWhn09vaZsFZ2B4pIA3ebwCZ/nUneE/7i9nUZ6oWD9xt8ltMMa3P0jzJAy8dySBZymdL08H7C4RFdJnYDK6gA3ULg5MS2jgBkIpwJn22kRlN1bgMILWK//MipQebDklX/kpxwb vmucuge@cs-6000-devshell-vm-7f97f8b2-fba2-4591-b005-9389465fe32f-279" --maintenance-policy "MIGRATE" --service-account "1040528368048-compute@developer.gserviceaccount.com" --scopes "https://www.googleapis.com/auth/cloud-platform" --min-cpu-platform "Automatic" --tags "allow-sbt","http-server" --image "centos-7-v20171025" --image-project "centos-cloud" --boot-disk-size "100" --boot-disk-type "pd-ssd" --boot-disk-device-name "rpm-build-c7"
